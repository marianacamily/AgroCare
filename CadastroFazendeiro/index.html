<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar Fazendeiro</title>
    <link rel="stylesheet"  type="text/css" href="style.css">
</head>
<header>
    <img src="logo.png" width="180px">
</header>
<body>
<div class="cadastro">

    <p><h1>Cadastrar Fazendeiro</h1></p><br>
    <form action="cadastrar_fazendo.php" method="post" onsubmit="validarFormulario()">
        <label>Nome:</label>
        <input type="text" id="nome" name="nome" size="20" maxlength="20" required>
        <label>CPF:</label>
        <input type="text" id="cpf" name="cpf" size="20" maxlength="20" required><br><br>
        <label>Nome da Fazenda:</label>
        <input type="text" id="nome_fazenda" name="nome_fazenda" size="20" maxlength="20" ><br><br>

        <label>Data de Nascimento:</label>
        <input type="date" id="date_nascimento" name="date_nascimento" size="20" maxlength="20" >
        <label>Telefone:</label>
        <input type="text" id="telefone" name="telefone" placeholder="(XX) XXXXX - XXXX" ><br><br>
        <label>Senha:</label>
        <input type="password" name="senha" >
        <label>Confirmar senha: </label>
        <input type="password" ><br><br>
        <div class="btns">
            <a href="../Login/index.html"><button id="btn-cancelar" class="btn-cancelar">Cancelar</button></a>
            <button onclick="gerarEmail()" class="btn-cadastrar" type="submit" name="cadastrar">Cadastrar</button>
        </div>
        <DIV id="resultado"></DIV>
        <div id="mensagem-erro"></div>
    </form>
    <div>
        <script>




            function gerarEmail() {
                var nomeCompleto = document.getElementById("nome").value;
                var primeiroNome = nomeCompleto.split(" ")[0];
                var ultimoNome = nomeCompleto.split(" ").pop();
                var nomeFazenda = document.getElementById("nome_fazenda").value;
                var email = primeiroNome + "." + ultimoNome + "@" + nomeFazenda + ".com.br";
                document.getElementById("resultado").innerHTML = "O endereço de e-mail é: " + email;
                alert("O endereço de e-mail é: " + email);
                submitForm()
            }

            function validarFormulario() {
                // Pega os valores dos inputs
                var nome = document.getElementById("nome").value;
                var cpf = document.getElementById("cpf").value;
                var nomeFazenda = document.getElementById("nome_fazenda").value;
                var dataNascimento = document.getElementById("date_nascimento").value;
                var telefone = document.getElementById("telefone").value;
                var senha = document.getElementById("senha").value;

                // Verifica se o campo nome não está vazio e tem pelo menos 3 caracteres
                if (nome == "" || nome.length < 3) {
                    alert("Por favor, digite um nome válido.");
                    return false;
                }

                // Verifica se o CPF tem 11 dígitos
                if (cpf == "" || cpf.length != 11) {
                    alert("Por favor, digite um CPF válido.");
                    return false;
                }

                // Verifica se o campo nome da fazenda não está vazio e tem pelo menos 3 caracteres
                if (nomeFazenda == "" || nomeFazenda.length < 3) {
                    alert("Por favor, digite um nome de fazenda válido.");
                    return false;
                }

                // Verifica se a data de nascimento é válida (não está no futuro)
                var dataAtual = new Date();
                var dataNasc = new Date(dataNascimento);
                if (dataNasc >= dataAtual) {
                    alert("Por favor, digite uma data de nascimento válida.");
                    return false;
                }

                // Verifica se o telefone tem pelo menos 10 dígitos
                if (telefone == "" || telefone.length < 10) {
                    alert("Por favor, digite um telefone válido.");
                    return false;
                }

                // Verifica se a senha tem pelo menos 6 caracteres
                if (senha == "" || senha.length < 6) {
                    alert("Por favor, digite uma senha válida (pelo menos 6 caracteres).");
                    return false;
                }

                // Se chegou até aqui, significa que todos os campos são válidos
                return true;
            }

            function submitForm () {
                alert("formulario enviado")
            }
        </script>
        <footer>
            *Ao clicar  em Cadastrar, todas as informações digitadas<br>
            serão salvas, confira se os dados estão corretos.
        </footer>


    </div>
</div>
</body>

</html>